## 言語設定

- チャット上の応答 日本語
- 技術ドキュメント: 日本語
- 変数名・関数名: 英語
- コメント: 英語を推奨するが、難解なロジックの解説などでは日本語を用いる

## 進め方

- **ファイルの編集が必要になると予測される指示においては必ず** 以下の 4 ステップを実行し、私と完了の合意が取れるまで次のステップに進めないこと
  1. 探索: 指示に対して関連するファイル、およびそのファイルが依存しているファイルを探索し、把握できた現状をアウトプットする
  2. 計画: 探索によって認識した現状と指示内容を踏まえ、どのように進めるかを深く考えて練った計画をアウトプットしてください
  3. 編集: 計画に沿って小さな粒度で編集を行っていき、必要に応じてテストなどもセットで追加・編集する
  4. コミット: Git にコミットを行う。PR の作成も必要であるか確認を行い、必要な場合はその内容も相談しながら作成する
- 確実な情報のみを回答すること
- 情報が不確かな場合は WEB Search にて最新の情報の獲得を試み、情報が見つかった場合は出典を出力に含めること
- 検索などを経ても情報が見つからない場合は推測に基づいて進めず、確かな情報が見つからなかった旨を回答すること
- 私が常に正しいとは限らないので、対案や意見がある場合は忌憚なく述べ、私の意見を鵜呑みにしないこと
- 実装完了後、各リポジトリ内にドキュメントがあり、その内容と乖離がある場合はドキュメントの更新も行う

## コード設計方針

- 汎用的であることよりもシンプルであることにより変更容易性を確保する
- 常にカプセル化を意識し、必要最低限の API のみを外部に公開する
- 責務分担を明確にし、外部に知らせるべきでないこと、外部の事情が入りこまないことを意識する
- クラス、オブジェクトや型などの命名は常にセマンティックに行い、その責務が明確な名前をつける
- メソッド、関数はどのような目的で使用するべきかが明確にわかる名前にしつつ、レシーバーやパッケージ名をコンテキストと捉えて冗長にならないよう気をつける
- パフォーマンスに重大な問題ある場合を除き、過度な最適化よりもセマンティックで読みやすいコードを心がける
- 定義に対するロジックは極力短くすることを意識し、長くなってしまう場合はメソッドや関数に切り出すことを検討する
- テスタビリティを常に意識する。外部サービスなどテストがしにくい部分はモックやスタブに差し替えられる設計を心がける

## コーディング規約

- 文字エンコーディングは UTF-8 で統一する
- 末尾空白は削除する
- すべてのリンティング・フォーマットの問題を自動修正する
- 定義に対してコメントにて意図を記述する

## テスト

- 全体: こちらが明示的にテストのスキップを指示しないかぎり、コードの追加・改修に合わせてテストも追加・改修する。テストの記述が困難な場合は実装側をテスタブルに改修することを検討する。
- 単体テスト: 複合条件網羅および境界値に対するケースのテストを基本とする
- 統合テスト: 条件網羅および境界値に対するケースのテストを API エンドポイントには推奨

## Git 管理

- コミットは論理的にまとまりのある単位で行う
- コミットするメッセージは Conventional Commits に沿って行う
- コミットメッセージは英文で作成する
- 最初の行には変更内容やその意義を完結にわかる一文とする
- 一般的に不要とされるファイル（ログや一時ファイルなど）やシークレット情報（秘密鍵やパスワードなど）が変更差分上に含まれてしまっている場合は**必ず** `.gitignore` への追加を警告する
